{"version":3,"sources":["../../src/pages/suporte/suporte.module.ts","../../src/pages/suporte/suporte.ts","../../src/providers/suport/suport.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAUxC;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAR7B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAW;aACZ;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;aACtC;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACZmC;AACM;AAE7B;AACmD;AAQ7F;IAWE,qBAAmB,OAAsB,EACtB,SAAoB,EACpB,WAA8B,EAC9B,cAA8B,EAC9B,SAA0B;QAJ1B,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,cAAS,GAAT,SAAS,CAAiB;QAP7C,sBAAsB;QACf,UAAK,GAAG,EAAE,CAAC;QAOhB,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED;;OAEG;IACH,8BAAQ,GAAR;QAEE,iBAAiB;QACjB,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QAC1C,OAAO,CAAC,OAAO,EAAE,CAAC;QAElB,qBAAqB;QACrB,IAAI,CAAC,QAAQ,GAAG,IAAI,sFAAgB,EAAE,CAAC;QAEvC,8BAA8B;QAC9B,IAAM,KAAK,GAAG;YACZ,OAAO,EAAE,UAAU;YACnB,OAAO,EAAE,UAAU;SACpB,CAAC;QAEF,oBAAoB;QACpB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAE,KAAK,CAAE,CAAC;QAElD,iBAAiB;QACjB,OAAO,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED;;OAEG;IACH,0BAAI,GAAJ;QAAA,iBAgBC;QAdC,iBAAiB;QACjB,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAE,EAAE,OAAO,EAAE,0BAA0B,EAAE,CAAE,CAAC;QACnF,OAAO,CAAC,OAAO,EAAE,CAAC;QAElB,gCAAgC;QAChC,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,SAAS,CAAE,IAAI,CAAC,UAAU,CAAC,KAAK,CAAE,CAAE,CAAC;QAEpE,wBAAwB;QACxB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAE,KAAK,CAAE;aAChC,IAAI,CAAE,iBAAO;YACZ,KAAI,CAAC,YAAY,CAAE,IAAI,CAAE,CAAC;QAC5B,CAAC,CAAC;aACD,KAAK,CAAE,aAAG,IAAI,YAAI,CAAC,YAAY,CAAE,KAAK,CAAE,EAA1B,CAA0B,CAAE;aAC1C,IAAI,CAAE,cAAM,cAAO,CAAC,OAAO,EAAE,EAAjB,CAAiB,CAAE,CAAC;IACnC,CAAC;IAED;;;OAGG;IACH,kCAAY,GAAZ,UAAc,OAAO;QAArB,iBAaC;QAXC,kBAAkB;QAClB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAE;YACjC,KAAK,EAAG,OAAO,GAAG,SAAS,GAAG,MAAM;YACpC,QAAQ,EAAE,OAAO,GAAG,8BAA8B;kBAC9B,uDAAuD;YAC3E,OAAO,EAAE,CAAC;oBACR,IAAI,EAAE,IAAI;oBACV,OAAO,EAAE,cAAQ,EAAE,EAAE,OAAQ,CAAC;wBAAC,KAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;iBAC1D,CAAC;SACH,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAlFU,WAAW;QALvB,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;YACxB,WAAW,iFAAE,CAAc;WACE;SAC9B,CAAC;6EAYyC;YACX,wEAAS;YACP,iFAAiB;YACd,sEAAc;YACnB,QAAe;OAflC,WAAW,CAqFvB;IAAD,CAAC;AAAA;SArFY,WAAW,e;;;;;;;;;;;;;;;;;;;;;ACZsB;AACH;AACA;AAG3C;IAEE,wBAAmB,GAAgB,EAChB,IAAkB;QADlB,QAAG,GAAH,GAAG,CAAa;QAChB,SAAI,GAAJ,IAAI,CAAc;IAAG,CAAC;IAEzC;;OAEG;IACI,6BAAI,GAAX,UAAa,KAAK;QAEhB,uBAAuB;QACvB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAE,cAAc,EAAE,EAAE,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC;YACzB,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,EAAE,CAAE;aACpE,IAAI,CAAE,iBAAO,IAAI,cAAO,EAAP,CAAO,CAAE;aAC1B,KAAK,CAAE,aAAG,IAAI,UAAG,EAAH,CAAG,CAAE,CAAC;IACvB,CAAC;IAfU,cAAc;QAD1B,yEAAU,EAAE;yCAGa,6DAAW;YACV,gEAAY;OAH1B,cAAc,CAgB1B;IAAD,qBAAC;CAAA;AAhB0B","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SuportePage } from './suporte';\n\n@NgModule({\n  declarations: [\n    SuportePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SuportePage),\n  ],\n})\nexport class SuportePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/suporte/suporte.module.ts","import { SuportProvider } from './../../providers/suport/suport';\nimport { ValidateProvider } from './../../providers/validate/validate';\nimport { FormGroup } from '@angular/forms';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-suporte',\n  templateUrl: 'suporte.html',\n  providers: [ SuportProvider ]\n})\nexport class SuportePage {\n\n  // Formulario de suporte\n  public suportForm: FormGroup;\n\n  // Validador do formulario\n  public validate: ValidateProvider;\n  \n  // Inicializa os erros\n  public erros = '';\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public loadingCtrl: LoadingController,\n              public suportProvider: SuportProvider,\n              public alertCtrl: AlertController) {\n    this.initForm();\n  }\n\n  /**\n   * Prepara o formulario\n   */\n  initForm() {\n\n    // Cria o loading\n    const loading = this.loadingCtrl.create();\n    loading.present();\n\n    // Inicia o validador\n    this.validate = new ValidateProvider();\n\n    // Seta as regras de validação\n    const rules = {\n      subject: 'required',\n      message: 'required'\n    };\n\n    // Seta o formulario\n    this.suportForm = this.validate.set_form( rules );\n\n    // Tira o loadind\n    loading.dismiss();\n  }\n\n  /**\n   * Salva a mensagem\n   */\n  send() {\n\n    // Gera o loading\n    const loading = this.loadingCtrl.create( { content: 'Enviando sua mensagem...' } );\n    loading.present();\n\n    // Pega os valores do formulario\n    const dados = JSON.parse( JSON.stringify( this.suportForm.value ) );\n\n    // Tenta realizar a ação\n    this.suportProvider.save( dados )\n    .then( success => {\n      this.presentAlert( true );\n    })\n    .catch( err => this.presentAlert( false ) )\n    .then( () => loading.dismiss() );\n  }\n\n  /**\n   * Mensagem de alerta\n   * @param sucesso \n   */\n  presentAlert( sucesso ) {\n\n    // Cria a mensagem\n    let alert = this.alertCtrl.create( {\n      title:  sucesso ? 'Sucesso' : 'Erro',\n      subTitle: sucesso ? 'Mensagem enviada com sucesso' \n                        : 'Erro ao eviar sua mensagem, tente de novo mais tarde!',\n      buttons: [{\n        text: 'Ok',\n        handler: () => { if( sucesso ) this.suportForm.reset(); }\n      }] \n    });\n    alert.present();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/suporte/suporte.ts","import { AuthProvider } from './../auth/auth';\nimport { ApiProvider } from './../api/api';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class SuportProvider {\n\n  constructor(public api: ApiProvider,\n              public auth: AuthProvider) {}\n\n  /**\n   * Salva a mensagem\n   */\n  public save( dados ) {    \n\n    // Retorna uma promessa\n    return this.api.post( '/suport/save', { subject: dados['subject'],\n                                            message: dados['message'] } )\n    .then( success => success )\n    .catch( err => err );\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/suport/suport.ts"],"sourceRoot":""}