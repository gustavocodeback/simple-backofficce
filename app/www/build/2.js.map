{"version":3,"sources":["../../src/pages/pesquisar/pesquisar.module.ts","../../src/components/post-noticia/post-noticias.module.ts","../../src/components/post-noticia/post-noticia.ts","../../src/pages/pesquisar/pesquisar.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { PostNoticiaModule } from './../../components/post-noticia/post-noticias.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PesquisarPage } from './pesquisar';\nimport { DirectivesModule } from '../../directives/directives.module';\n\n@NgModule({\n  declarations: [\n    PesquisarPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PesquisarPage),\n    PostNoticiaModule,\n    DirectivesModule\n  ],\n})\nexport class PesquisarPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pesquisar/pesquisar.module.ts","import { PostNoticiaComponent } from './post-noticia';\nimport { IonicModule } from 'ionic-angular';\nimport { NgModule } from '@angular/core';\n \n@NgModule({\n  declarations: [\n    PostNoticiaComponent\n  ],\n  imports: [\n    IonicModule\n  ],\n  exports: [\n    PostNoticiaComponent\n  ]\n})\nexport class PostNoticiaModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-noticia/post-noticias.module.ts","import { NavController, PopoverController } from 'ionic-angular';\nimport { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'post-noticia',\n  templateUrl: 'post-noticia.html'\n})\nexport class PostNoticiaComponent {\n\n  /**\n   * Noticia que está sendo exibida\n   *\n   */\n  public selectedNotice = {};\n\n  /**\n   * Noticia que será exibida\n   *\n   */\n  @Input() set notice( notice ) {\n    // Seta a noticia selecionada\n    this.selectedNotice = notice;\n\n    // Verifica se possui uma imagem\n    if ( !notice.image_link ) return;\n\n    // Cria uma imagem\n    const tempImage = new Image();\n    tempImage.src = notice.image_link;\n\n    // Quando a imagem original carregar, substitui a padrão\n    tempImage.onload = ( img ) => {\n      this.imageRef = tempImage.src;\n    }\n    tempImage.onerror = ( img ) => {\n      this.selectedNotice['image_link'] = false;\n    }\n  };\n\n  /**\n   * Se deve mostrar o link para o gateway\n   *\n   */\n  @Input() showGatewayLink = true;\n\n  /**\n   * Imagem da noticia\n   *\n   */\n  public imageRef = 'assets/imgs/empty.jpg'\n\n  /**\n   * Método construtor\n   *\n   * @param navCtrl \n   * @param popoverCtrl \n   */\n  constructor( public navCtrl: NavController,\n               public popoverCtrl: PopoverController ) {\n  }\n\n  /**\n   * Abre o perfil da noticia\n   *\n   */\n  perfilNoticia( id ) {\n    this.navCtrl.push( 'PerfilNoticiaPage', { id: id } );\n  }\n\n  /**\n   * Abre o detalhe da noticia\n   *\n   * @param url \n   */\n  openNotice() {\n    this.navCtrl.push( 'NoticePage', { notice_id: this.selectedNotice['id'] } );\n  }\n\n  /**\n   * Abre o popover\n   *\n   * @param event \n   */\n  presentPopover( event ) {\n    let popover = this.popoverCtrl.create( 'NoticiaPopoverPage', { notice: this.selectedNotice } );\n    popover.present({\n      ev: event\n    });\n  }\n}\n\n// End of file\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-noticia/post-noticia.ts","import { NoticeProvider } from './../../providers/notice/notice';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-pesquisar',\n  templateUrl: 'pesquisar.html',\n})\nexport class PesquisarPage {\n\n\n  // Ativo\n  public ativo = false;\n\n  // Total de paginas\n  public totalPages = 1;\n\n  // Pagina atual\n  public actualPage:any = 0;\n\n  // Se está um um request\n  public isOnRequest = false;\n\n  // Notocias\n  public notices = [];\n\n  // Itens\n  public totalItens = 1;\n\n  public text = '';\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public viewCtrl: ViewController,\n              public modalCtrl: ModalController,\n              public notice: NoticeProvider) {\n  }\n\n  /**\n   * Busca noticias\n   * \n   * @param event \n   */\n  search( event ) {\n    \n    // Busca a string\n    let string = event.target.value;\n\n    // Verfica se veio algum dado\n    if( string ) {\n      \n      // salva a string globalmente\n      this.text = string;\n\n      // Faz a busca\n      this.loadNews( false, true )\n    } else this.notices = [];\n  }\n\n  /**\n   * Carrega novas noticias\n   * \n   * @param event \n   * @param reset \n   */\n  loadNews( event:any = false, reset = false ) {\n    \n    // Verifica se está e uma request\n    if( this.isOnRequest ) return;\n    this.isOnRequest = true;\n\n    // Verifica se deve resetar\n    if( reset ) {\n      this.actualPage = 0;\n      this.totalPages = 1;\n    }\n\n    // busca as noticias\n    this.notice.searchNotice( this.text, parseInt(this.actualPage) + 1 )\n    .then( ( notices: any ) => {\n    \n      // verifica se deve resetar\n      if( !reset ) {\n        for( let notice of notices.data ) this.notices.push( notice );\n      } else {\n        this.notices = notices.data;\n      }\n\n      // seta as paginações\n      this.totalPages = notices.total_pages;\n      this.actualPage = notices.page;\n      this.totalItens = notices.total_itens;\n    })\n    .then( () => { \n\n      // Indica que não está mais em um request\n      this.isOnRequest = false;\n\n      // Verifica se existe um evento\n      if( event ) event.complete();\n    });\n  }\n\n  /**\n   * close\n   */\n  public close() {\n    if ( this.navCtrl.canGoBack() ) {\n      this.navCtrl.pop()\n    } else this.navCtrl.setRoot( 'FeedPage' );\n  }\n\n   /**\n   * addFilter\n   */\n  public addFilter() {\n    this.ativo = true;\n  }\n\n  /**\n   * removeFilter\n   */\n  public removeFilter() {\n    this.ativo = false;\n  }\n\n  public filtrarModal() {\n    const modal = this.modalCtrl.create( 'FiltrarModalPage' );\n    modal.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pesquisar/pesquisar.ts"],"sourceRoot":""}