{"version":3,"sources":["../../src/pages/esqueci-senha/esqueci-senha.module.ts","../../src/pages/esqueci-senha/esqueci-senha.ts"],"names":[],"mappings":"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","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EsqueciSenhaPage } from './esqueci-senha';\n\n@NgModule({\n  declarations: [\n    EsqueciSenhaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EsqueciSenhaPage),\n  ],\n})\nexport class EsqueciSenhaPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/esqueci-senha/esqueci-senha.module.ts","import { AuthProvider } from './../../providers/auth/auth';\nimport { ValidateProvider } from './../../providers/validate/validate';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, AlertController } from 'ionic-angular';\nimport { FormGroup } from '@angular/forms';\n\n@IonicPage()\n@Component({\n  selector: 'page-esqueci-senha',\n  templateUrl: 'esqueci-senha.html',\n})\nexport class EsqueciSenhaPage {\n\n  // formulario\n  public forgotPasswordForm: FormGroup;\n\n  // validador\n  public validate: ValidateProvider;\n\n  // erros\n  public erro = '';\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public loadingCtrl: LoadingController,\n              public auth: AuthProvider,\n              public alertCtrl: AlertController) {\n    \n    // inicia o formulario\n    this.initForm();\n  }\n\n  /**\n   * initForm\n   * \n   * inicia o formulario\n   */\n  public initForm() {\n\n    // cria o loading\n    const loading = this.loadingCtrl.create({});\n    loading.present();\n\n    // inicia um novo validador\n    this.validate = new ValidateProvider();\n\n    // seta as regras de validação\n    const rules = {\n      email : 'required|valid_email'\n    };\n\n    // seta o formulario\n    this.forgotPasswordForm = this.validate.set_form( rules );\n\n    // tira o loading\n    loading.dismiss();\n  }\n\n  /**\n   * forgotPassword\n   * \n   * faz a recuperação de senha do usuario\n   */\n  public async forgotPassword() {\n    \n    // cria o loading\n    const loading = this.loadingCtrl.create({});\n    loading.dismiss();\n\n    // pega os dados do formulario\n    const dados = JSON.parse( JSON.stringify( this.forgotPasswordForm.value ) );\n    \n    // tenta realizar a ação\n    this.auth.forgotPassword( dados )\n    .then( successo => {\n\n      // redireciona pro login\n      this.navCtrl.push( 'LoginPage' );\n\n      // mostra mensagem de alerta na tela\n      this.showAlert( successo );\n    })\n    .catch( err => {\n      this.erro = err;\n    })\n    .then( () => loading.dismiss() );\n  }\n\n  /**\n   * showAlert\n   * \n   * mostra mensagem de alerta na tela\n   * \n   * @param msg \n   */\n  public showAlert( msg ) {\n    const alert = this.alertCtrl.create({\n      title: 'Sucesso',\n      subTitle: msg,\n      buttons: ['OK']\n    });\n    alert.present();\n  }\n\n  /**\n   * back\n   * \n   * volta para a pagina anterior\n   */\n  public back() {\n    this.navCtrl.pop();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/esqueci-senha/esqueci-senha.ts"],"sourceRoot":""}