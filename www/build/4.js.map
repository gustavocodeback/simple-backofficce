{"version":3,"sources":["../../src/pages/noticias-salvas/noticias-salvas.module.ts","../../src/components/post-noticia/post-noticias.module.ts","../../src/components/post-noticia/post-noticia.ts","../../src/pages/noticias-salvas/noticias-salvas.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAyC;AACO;AACO;AAEkC;AAWzF;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QATpC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,4EAAkB;aACnB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,4EAAkB,CAAC;gBAC5C,wGAAiB;aAClB;SACF,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;ACfiB;AACV;AACH;AAazC;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAX7B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2EAAoB;aACrB;YACD,OAAO,EAAE;gBACP,kEAAW;aACZ;YACD,OAAO,EAAE;gBACP,2EAAoB;aACrB;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;ACfmC;AAChB;AAMjD;IA4CE;;;;;OAKG;IACH,8BAAoB,OAAsB,EACtB,WAA8B;QAD9B,YAAO,GAAP,OAAO,CAAe;QACtB,gBAAW,GAAX,WAAW,CAAmB;QAjDlD;;;WAGG;QACI,mBAAc,GAAG,EAAE,CAAC;QA0B3B;;;WAGG;QACM,oBAAe,GAAG,IAAI,CAAC;QAEhC;;;WAGG;QACI,aAAQ,GAAG,uBAAuB;IAUzC,CAAC;IAxCQ,sBAAI,wCAAM;QAJnB;;;WAGG;aACM,UAAY,MAAM;YAA3B,iBAkBC;YAjBC,6BAA6B;YAC7B,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;YAE7B,gCAAgC;YAChC,EAAE,CAAC,CAAE,CAAC,MAAM,CAAC,UAAW,CAAC;gBAAC,MAAM,CAAC;YAEjC,kBAAkB;YAClB,IAAM,SAAS,GAAG,IAAI,KAAK,EAAE,CAAC;YAC9B,SAAS,CAAC,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC;YAElC,wDAAwD;YACxD,SAAS,CAAC,MAAM,GAAG,UAAE,GAAG;gBACtB,KAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC;YAChC,CAAC;YACD,SAAS,CAAC,OAAO,GAAG,UAAE,GAAG;gBACvB,KAAI,CAAC,cAAc,CAAC,YAAY,CAAC,GAAG,KAAK,CAAC;YAC5C,CAAC;QACH,CAAC;;;OAAA;IAAA,CAAC;IAwBF;;;OAGG;IACH,4CAAa,GAAb,UAAe,EAAE;QACf,IAAI,CAAC,OAAO,CAAC,IAAI,CAAE,mBAAmB,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAE,CAAC;IACvD,CAAC;IAED;;;;OAIG;IACH,yCAAU,GAAV;QACE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAE,YAAY,EAAE,EAAE,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAE,CAAC;IAC9E,CAAC;IAED;;;;OAIG;IACH,6CAAc,GAAd,UAAgB,KAAK;QACnB,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAE,oBAAoB,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,cAAc,EAAE,CAAE,CAAC;QAC/F,OAAO,CAAC,OAAO,CAAC;YACd,EAAE,EAAE,KAAK;SACV,CAAC,CAAC;IACL,CAAC;IArEQ;QAAR,oEAAK,EAAE;;;sDAkBP;IAMQ;QAAR,oEAAK,EAAE;;iEAAwB;IApCrB,oBAAoB;QAJhC,wEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACQ;SACjC,CAAC;sFAmD0C;YACT,iBAAiB;OAnDvC,oBAAoB,CAkFhC;IAAD,CAAC;AAAA;SAlFY,KAAoB;AAoFjC,cAAc,0B;;;;;;;;;;;;;;;;;;;;;;AC3F6C;AACM;AACvB;AACe;AAOzD;IAkBE,4BAAmB,OAAsB,EACtB,SAAoB,EACpB,MAAsB,EACtB,IAAkB;QAHlB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,WAAM,GAAN,MAAM,CAAgB;QACtB,SAAI,GAAJ,IAAI,CAAc;QAnBrC,mBAAmB;QACZ,eAAU,GAAG,CAAC,CAAC;QAEtB,eAAe;QACR,eAAU,GAAO,CAAC,CAAC;QAE1B,qBAAqB;QACd,gBAAW,GAAG,KAAK,CAAC;QAE3B,UAAU;QACH,WAAM,GAAG,KAAK,CAAC;QAEtB,iBAAiB;QACV,YAAO,GAAG,EAAE,CAAC;IAMoB,CAAC;IAEzC;;OAEG;IACH,2CAAc,GAAd;QACE,IAAI,CAAC,QAAQ,CAAE,KAAK,EAAE,IAAI,CAAE,CAAC;IAC/B,CAAC;IAED;;OAEG;IACH,qCAAQ,GAAR,UAAU,KAAiB,EAAE,KAAa;QAA1C,iBAuCC;QAvCS,qCAAiB;QAAE,qCAAa;QAExC,kBAAkB;QAClB,EAAE,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAG,CAAC;YAAC,MAAM,CAAC;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;QAEnB,iCAAiC;QACjC,EAAE,EAAE,IAAI,CAAC,WAAY,CAAC;YAAC,MAAM,CAAC;QAC9B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;QAExB,2BAA2B;QAC3B,EAAE,EAAE,KAAM,CAAC,CAAC,CAAC;YACX,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACtB,CAAC;QAED,oBAAoB;QACpB,IAAI,CAAC,MAAM,CAAC,eAAe,CAAE,QAAQ,CAAE,IAAI,CAAC,UAAU,CAAE,GAAG,CAAC,CAAE;aAC7D,IAAI,CAAE,UAAE,OAAY;YAEnB,2BAA2B;YAC3B,EAAE,EAAE,CAAC,KAAM,CAAC,CAAC,CAAC;gBACZ,GAAG,EAAgB,UAAY,EAAZ,YAAO,CAAC,IAAI,EAAZ,cAAY,EAAZ,IAAY;oBAA1B,IAAI,MAAM;oBAAmB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAE,MAAM,CAAE,CAAC;iBAAA;YAChE,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;YAC9B,CAAC;YAED,qBAAqB;YACrB,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC,WAAW,CAAC;YACtC,KAAI,CAAC,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC;QACjC,CAAC,CAAC;aACD,KAAK,CAAE,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAE;aAChC,IAAI,CAAE;YACL,yCAAyC;YACzC,KAAI,CAAC,WAAW,GAAG,KAAK,CAAC;YAEzB,+BAA+B;YAC/B,EAAE,EAAE,KAAM,CAAC;gBAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;IACL,CAAC;IAxEU,kBAAkB;QAJ9B,wEAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;WACG;SACpC,CAAC;6EAmByC;YACX,gFAAS;YACZ,4EAAc;YAChB,YAAY;OArB1B,kBAAkB,CAyE9B;IAAD,CAAC;AAAA;SAzEY,kBAAkB,gB","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NoticiasSalvasPage } from './noticias-salvas';\n\nimport { PostNoticiaModule } from './../../components/post-noticia/post-noticias.module';\n\n@NgModule({\n  declarations: [\n    NoticiasSalvasPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NoticiasSalvasPage),\n    PostNoticiaModule\n  ],\n})\nexport class NoticiasSalvasPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/noticias-salvas/noticias-salvas.module.ts","import { PostNoticiaComponent } from './post-noticia';\nimport { IonicModule } from 'ionic-angular';\nimport { NgModule } from '@angular/core';\n \n@NgModule({\n  declarations: [\n    PostNoticiaComponent\n  ],\n  imports: [\n    IonicModule\n  ],\n  exports: [\n    PostNoticiaComponent\n  ]\n})\nexport class PostNoticiaModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-noticia/post-noticias.module.ts","import { NavController, PopoverController } from 'ionic-angular';\nimport { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'post-noticia',\n  templateUrl: 'post-noticia.html'\n})\nexport class PostNoticiaComponent {\n\n  /**\n   * Noticia que está sendo exibida\n   *\n   */\n  public selectedNotice = {};\n\n  /**\n   * Noticia que será exibida\n   *\n   */\n  @Input() set notice( notice ) {\n    // Seta a noticia selecionada\n    this.selectedNotice = notice;\n\n    // Verifica se possui uma imagem\n    if ( !notice.image_link ) return;\n\n    // Cria uma imagem\n    const tempImage = new Image();\n    tempImage.src = notice.image_link;\n\n    // Quando a imagem original carregar, substitui a padrão\n    tempImage.onload = ( img ) => {\n      this.imageRef = tempImage.src;\n    }\n    tempImage.onerror = ( img ) => {\n      this.selectedNotice['image_link'] = false;\n    }\n  };\n\n  /**\n   * Se deve mostrar o link para o gateway\n   *\n   */\n  @Input() showGatewayLink = true;\n\n  /**\n   * Imagem da noticia\n   *\n   */\n  public imageRef = 'assets/imgs/empty.jpg'\n\n  /**\n   * Método construtor\n   *\n   * @param navCtrl \n   * @param popoverCtrl \n   */\n  constructor( public navCtrl: NavController,\n               public popoverCtrl: PopoverController ) {\n  }\n\n  /**\n   * Abre o perfil da noticia\n   *\n   */\n  perfilNoticia( id ) {\n    this.navCtrl.push( 'PerfilNoticiaPage', { id: id } );\n  }\n\n  /**\n   * Abre o detalhe da noticia\n   *\n   * @param url \n   */\n  openNotice() {\n    this.navCtrl.push( 'NoticePage', { notice_id: this.selectedNotice['id'] } );\n  }\n\n  /**\n   * Abre o popover\n   *\n   * @param event \n   */\n  presentPopover( event ) {\n    let popover = this.popoverCtrl.create( 'NoticiaPopoverPage', { notice: this.selectedNotice } );\n    popover.present({\n      ev: event\n    });\n  }\n}\n\n// End of file\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-noticia/post-noticia.ts","import { AuthProvider } from './../../providers/auth/auth';\nimport { NoticeProvider } from './../../providers/notice/notice';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-noticias-salvas',\n  templateUrl: 'noticias-salvas.html',\n})\nexport class NoticiasSalvasPage {\n\n  // Total de paginas\n  public totalPages = 1;\n\n  // Pagina atual\n  public actualPage:any = 0;\n\n  // Está em um request\n  public isOnRequest = false;\n\n  // Usuario\n  public logged = false;\n\n  // Noticas salvas\n  public notices = [];\n\n\n  constructor(public navCtrl: NavController, \n              public navParams: NavParams,\n              public notice: NoticeProvider,\n              public auth: AuthProvider) {}\n\n  /**\n   * Carrega as primeiras noticias\n   */\n  ionViewDidLoad(){\n    this.loadNews( false, true );\n  }\n\n  /**\n   * Carrega as noticias\n   */\n  loadNews( event:any = false, reset = false ) {\n\n    // busca o usuario\n    if( !this.auth.user() ) return;\n    this.logged = true;\n\n    // Verifica se está em um request\n    if( this.isOnRequest ) return;\n    this.isOnRequest = true;\n\n    // Verifica se deve resetar\n    if( reset ) {\n      this.actualPage = 0;\n      this.totalPages = 1;\n    }\n\n    // Busca as noticias\n    this.notice.getSavedNotices( parseInt( this.actualPage ) + 1 )\n    .then( ( notices: any ) => {\n\n      // Verifica se deve resetar\n      if( !reset ) {\n        for( let notice of notices.data ) this.notices.push( notice );\n      } else {\n        this.notices = notices.data;\n      }\n\n      // Seta as paginações\n      this.totalPages = notices.total_pages;\n      this.actualPage = notices.page;\n    })\n    .catch( err => console.log(err) )\n    .then( () => {\n      // Indica que não está mais em um request\n      this.isOnRequest = false;\n\n      // Verifica se existe um evento\n      if( event ) event.complete();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/noticias-salvas/noticias-salvas.ts"],"sourceRoot":""}