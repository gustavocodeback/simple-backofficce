{"version":3,"sources":["../../src/pages/notice/notice.module.ts","../../src/components/post-ads/post-ads.module.ts","../../src/components/post-ads/post-ads.ts","../../src/app/app.config.ts","../../src/pages/notice/notice.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { PostAdsModule } from './../../components/post-ads/post-ads.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NoticePage } from './notice';\nimport { DirectivesModule } from '../../directives/directives.module';\n\n@NgModule({\n  declarations: [\n    NoticePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(NoticePage),\n    DirectivesModule, \n    PostAdsModule    \n  ],\n})\nexport class NoticePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notice/notice.module.ts","import { PostAdsComponent } from './post-ads';\nimport { IonicModule } from 'ionic-angular';\nimport { NgModule } from '@angular/core';\n \n@NgModule({\n  declarations: [\n    PostAdsComponent\n  ],\n  imports: [\n    IonicModule\n  ],\n  exports: [\n    PostAdsComponent\n  ]\n})\nexport class PostAdsModule {}\n\n// End of file\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-ads/post-ads.module.ts","import { Component, Input, SimpleChanges } from '@angular/core';\nimport { OnChanges } from '@angular/core/src/metadata/lifecycle_hooks';\nimport { AppConfig } from './../../app/app.config';\ndeclare const FacebookAds: any;\n\n@Component({\n  selector: 'post-ads',\n  templateUrl: 'post-ads.html'\n})\nexport class PostAdsComponent implements OnChanges {\n\n  /**\n   * Indica se carregou a noticia\n   * \n   */\n  nativeAdd;\n\n  /**\n   * Scroll input\n   * \n   */\n  @Input() content;\n\n  /**\n   * Identificador\n   * \n   */\n  id;\n\n  /**\n   * Método constructor\n   * \n   */\n  constructor() {\n    this.publishAdd();\n    this.id = this.guid();\n  }\n\n  /**\n   * Quando tiverem alterações\n   * \n   * @param changes \n   */\n  ngOnChanges(changes: SimpleChanges) {\n    if (this.content) {\n      this.content.ionScroll.subscribe((data) => {\n        this.updateXY(data.scrollLeft, data.scrollTop);\n      });\n    }\n  }\n\n  /**\n   * Gera um id aleatorio\n   * \n   */\n  guid() {\n    const s4 = () => {\n      return Math.floor((1 + Math.random()) * 0x10000)\n        .toString(16)\n        .substring(1);\n    }\n    return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n  }\n\n  /**\n   * Seta a area clicavel\n   * \n   * @param top \n   */\n  updateXY(left, top) {\n    const d = document.getElementById( this.id );\n    if ( !d ) return;\n    \n    const w = document.getElementById( this.id ).clientWidth;\n    const h = document.getElementById( this.id ).clientHeight;\n    const x = d.offsetLeft - left;\n    const y = d.offsetTop - top;\n    console.log( 'chamou' );\n\n    if (FacebookAds)\n      FacebookAds.setNativeAdClickArea( AppConfig.AddMobId, x, y, w, h);\n\n  };\n\n  /**\n  * Adiciona uma Propaganda\n  * \n  */\n  publishAdd() {\n    document.addEventListener(\"onAdLoaded\", (data) => {\n      if (this.nativeAdd) return;\n      let temp: any = JSON.parse(JSON.stringify(data));\n      if (temp.adType == \"native\") {\n        this.nativeAdd = temp['adRes'];\n\n        /* document.getElementById('adIcon').setAttribute(\"src\", temp.adRes.icon.url);\n        document.getElementById('adCover').setAttribute(\"src\", temp.adRes.coverImage.url);\n        document.getElementById('adTitle').innerHTML = temp.adRes.title;\n        document.getElementById('adBody').innerHTML = temp.adRes.body;\n        document.getElementById('adSocialContext').innerHTML = temp.adRes.socialContext;\n        document.getElementById('adBtn').innerHTML = temp.adRes.buttonText; */\n      }\n    });\n    if (FacebookAds) {\n      FacebookAds.createNativeAd(AppConfig.AddMobId);\n    }\n  }\n}\n\n// End of file\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/post-ads/post-ads.ts","export const AppConfig = {\n    AddMobId: '176263959826303_176264093159623'\n};\n\n// End of file\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.config.ts","import { IonicPage, NavController, NavParams, ViewController, PopoverController, LoadingController, Content } from 'ionic-angular';\nimport { SafariViewController } from '@ionic-native/safari-view-controller';\nimport { NoticeProvider } from './../../providers/notice/notice';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { Component, ViewChild } from '@angular/core';\n\n@IonicPage()\n@Component({\n  selector: 'page-notice',\n  templateUrl: 'notice.html',\n})\nexport class NoticePage {\n  @ViewChild(Content) content: Content;\n  \n  /**\n   * Anuncio nativo\n   * \n   */\n  nativeAdd;\n\n  /**\n   * Noticia em exibição\n   * \n   */\n  public notice = {};\n\n  /**\n   * Método construtor\n   * \n   * @param navCtrl \n   * @param navParams \n   * @param viewCtrl \n   * @param popoverCtrl \n   * @param noticeProvider \n   * @param loadingCtrl \n   * @param iab \n   */\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    public popoverCtrl: PopoverController,\n    public noticeProvider: NoticeProvider,\n    public loadingCtrl: LoadingController,\n    public iab: InAppBrowser,\n    private safariViewController: SafariViewController) {\n\n    const notice_id = this.navParams.get('notice_id');\n    if (!notice_id) {\n      this.close();\n    } else this.loadNotice(notice_id);\n  }\n\n  /**\n   * Carrega a notica\n   * \n   * @param notice_id \n   */\n  async loadNotice(notice_id) {\n\n    // Gera o loading\n    const loading = this.loadingCtrl.create({ content: 'Buscando notítica...' });\n    loading.present();\n\n    try {\n\n      // Busca a noticia\n      const notice = await this.noticeProvider.getById(notice_id);\n\n      // Seta a noticia\n      this.notice = notice;\n\n    } catch (e) {\n\n      // Feha o modal\n      this.close();\n\n    }\n\n    // Tira o loading\n    loading.dismiss();\n  }\n\n  /**\n   * Fecha o modal\n   * \n   */\n  close() {\n    this.navCtrl.pop();\n  }\n\n  /**\n   * Abre o popover\n   * \n   * @param event \n   */\n  presentPopover(event) {\n    let popover = this.popoverCtrl.create('NoticiaPopoverPage', { notice: this.notice });\n    popover.present({\n      ev: event\n    });\n  }\n\n  /**\n   * Abre a noticia no site\n   * \n   */\n  verMais() {\n\n    this.safariViewController.isAvailable()\n      .then((available: boolean) => {\n        if (available) {\n\n          this.safariViewController.show({\n            url: this.notice['link'],\n            hidden: false,\n            animated: false,\n            transition: 'curl',\n            tintColor: '#ff000'\n          })\n            .subscribe((result: any) => {\n              if (result.event === 'opened') console.log('Opened');\n              else if (result.event === 'loaded') console.log('Loaded');\n              else if (result.event === 'closed') console.log('Closed');\n            }, (error: any) => console.log(error));\n        }\n        else {\n          this.iab.create(this.notice['link'], '_system');\n        }\n      })\n  }\n}\n\n// End of file\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/notice/notice.ts"],"sourceRoot":""}